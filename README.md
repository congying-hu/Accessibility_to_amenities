1. Study area and unit\
Glasgow is the largest city in Scotland and covers with 732 urban Data Zones. The research and analysis were conducted in the unit of Data Zone in Glasgow’s urban area because most population and amenities locate in the urban area. Data Zones (DZ) are socially and economically homogenous geographic areas, defined by Scottish Government with approximately 500 to 1,000 households or 1,000 to 2,000 people. Additionally, Output Area (OA) is the smallest standard geographic unit within Data Zone for collecting population data in a granular manner (Scottish Government, 2013). 

2. Data\
Road network, residences and amenities data are from OpenStreetMap, 2011 Scottish Census data and Improvement Service (Table 1). The services and amenities included for this study are GP, pharmacies, groceries, primary schools and parks, which were chosen based on prior evidence that are aligned with urban planning policies, measured at appropriate geographic scale and accuracy, and are able to inform and evaluate urban planning policies that create health-promoting cities (Badland et al., 2014; Davern et al., 2018; Giles-Corti et al., 2016). These amenities are also consistent with 15/20-minute city/neighbourhood analysis that includes living, working, commerce, healthcare, education and entertainment amenities (Moreno et al., 2021). 

3. Method\
DBSCAN (Density-Based Spatial Clustering of Applications with Noise) is an effective method for clustering analysis which does not require a specific input number of cluster. It is an unsupervised machine learning method identifying the clusters based on minimum density threshold (Min Pts) and maximum neighborhood radius (Eps) from any sample object (Ester et al., 1996). 

4. Data Processing\
In terms of data processing, calculating the walking time from each individual residential building to amenities involves a significant computational load. Moreover, in Data Zones with high residential density, performing this calculation for each building may not be necessary or inefficient. To streamline the calculation process, I employed DBSCAN to group residential buildings into clusters within each Output Area (OA). Residential buildings within an Epsilon (ε) of 100m of each other were considered neighbours and grouped into one cluster. 100m was chosen as distance threshold considering the walking distance of 1 minute, which often ranges from 60m to 100 m, and the width of residential buildings. After that, centroids of residential clusters were generated and travel time by walking from each centroid to nearest 5 types of amenities were calculated with the package of r5py in Python (Fink et al., 2022). For each centroid of cluster within OA, the walking time to the nearest grocery store, primary school, GP (general practitioner), pharmacies and park were computed. The maximum travel time to nearest 5 types of amenities was utilized as representation of accessibility of single residential centroid. For example, if a residential cluster is 4 minutes away from a grocery store, 5 minutes away from the nearest primary school, and 7 minutes away from the nearest park, the cluster will be assigned a time of 7 minutes, as that is the maximum time it takes to access all the amenities (Moreno et al., 2021).  After that, the average travel time of all centroids within one output area were calculated to represent the average travel time of each OA (Fig. 2). Instead of relying on a single centroid for the entire Output Area or Data Zone, the centroids of residential building clusters provided more accurate distribution of residents living in the OA and DZ. By applying this methodology, residential buildings in low-density data zones that are dispersed or obstructed by parks and industries can be sensibly grouped into clusters. Once the maximum walking time to amenities is calculated for each OA, population data will be applied to generate neighbourhood-wide statistics.

![Flow Chart](https://github.com/congying-hu/Accessibility_to_amenities/assets/122296838/a7fe2580-1ab8-455c-b1ba-dfaf2033addc)



